{"version":3,"file":"js/121.6e3fe91c.js","mappings":"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","sources":["webpack://project/./src/components/Login3.vue","webpack://project/./src/utils/vaildate.js","webpack://project/src/components/Login3.vue","webpack://project/./src/components/Login3.vue?12b6","webpack://project/./src/components/Login3.vue?0e89","webpack://project/./src/api/api.js"],"sourcesContent":["var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"login\"},[_c('el-card',{staticClass:\"box-card\"},[_c('div',{staticClass:\"clearfix\",attrs:{\"slot\":\"header\"},slot:\"header\"},[_c('span',{staticClass:\"span\"},[_vm._v(\"至美后台\")]),_c('el-form',{ref:\"form\",attrs:{\"label-width\":\"80px\",\"model\":_vm.form,\"rules\":_vm.rules}},[_c('el-form-item',{attrs:{\"label\":\"用户名\",\"prop\":\"username\"}},[_c('el-input',{model:{value:(_vm.form.username),callback:function ($$v) {_vm.$set(_vm.form, \"username\", $$v)},expression:\"form.username\"}})],1),_c('el-form-item',{attrs:{\"label\":\"密码\",\"prop\":\"password\"}},[_c('el-input',{attrs:{\"type\":\"password\"},model:{value:(_vm.form.password),callback:function ($$v) {_vm.$set(_vm.form, \"password\", $$v)},expression:\"form.password\"}})],1),_c('el-form-item',[_c('el-button',{attrs:{\"type\":\"primary\",\"icon\":\"el-icon-user-solid\\n\"},on:{\"click\":function($event){return _vm.login('form')}}},[_vm._v(\"登录\")])],1)],1)],1)])],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","//用户名表单校验匹配\r\nexport function NameRule(rule, value, callback) {\r\n  //          请输入四到十位的昵称  正则 安装插件 any-r 按下F1\r\n  let reg = /(^[a-zA-Z0-9]{4,10}$)/;\r\n  if (value === \"\") {\r\n    callback(new Error(\"请输入用户名\"));\r\n  } else if (!reg.test(value)) {\r\n    callback(new Error(\"请输入4-10用户名\"));\r\n  } else {\r\n    callback();\r\n  }\r\n}\r\n\r\n\r\n//登录表单密码封装\r\nexport function PassRule( rule, value, callback) {\r\n    // 密码强度校验，最少6位，包括至少1个大写字母，1个小写字母，1个数字，1个特殊字符\"\r\n    let pass = /^\\S*(?=\\S{6,})(?=\\S*\\d)(?=\\S*[A-Z])(?=\\S*[a-z])(?=\\S*[!@#$%^&*? ])\\S*$/\r\n    if(value === ''){\r\n      callback(new Error('请输入密码'))\r\n      //取反\r\n    } else if (!pass.test(value)) {\r\n      callback(new Error('最少6位，包括至少1个大写字母，1个小写字母，1个数字，1个特殊字符'))\r\n    } else {\r\n      callback()\r\n    }\r\n    }\r\n     ","<template>\r\n  <div class=\"login\">\r\n  <el-card class=\"box-card\">\r\n    <div slot=\"header\" class=\"clearfix\">\r\n        <span class=\"span\">至美后台</span>\r\n        <el-form \r\n        label-width=\"80px\" \r\n        :model=\"form\" \r\n        ref=\"form\"\r\n        :rules=\"rules\">\r\n\r\n            <el-form-item label=\"用户名\" prop=\"username\">\r\n              <el-input v-model=\"form.username\"></el-input>\r\n            </el-form-item>\r\n\r\n            <el-form-item label=\"密码\" prop=\"password\">\r\n              <el-input type=\"password\" v-model=\"form.password\"></el-input>\r\n            </el-form-item>\r\n\r\n            <el-form-item>\r\n              <el-button type=\"primary\" @click=\"login('form')\" icon=\"el-icon-user-solid\r\n\">登录</el-button> \r\n            </el-form-item>\r\n\r\n          </el-form>\r\n    </div>\r\n  </el-card>\r\n      \r\n</div>\r\n\r\n</template>\r\n\r\n<script>\r\n//导入封装的方法模块\r\nimport  { NameRule, PassRule } from '../utils/vaildate.js'\r\nimport { setToken } from '@/utils/Token.js'\r\n\r\n//导入封装好的登录请求方法\r\nimport { login } from '@/api/api.js'\r\nexport default {\r\n  name: 'Login3',\r\n    data() {\r\n        return {\r\n         //放入校验规则\r\n            form: {\r\n                username: '',\r\n                password: '',\r\n            },\r\n            rules: {\r\n              username: [{validator: NameRule, trigger: 'blur'}],\r\n              password: [{validator: PassRule, trigger: 'blur'}],\r\n            }\r\n            \r\n        }\r\n    },\r\n    methods: {\r\n      login(form) {\r\n        this.$refs[form].validate((valid) => {\r\n          //符合规则\r\n          if (valid) {\r\n            console.log(this.form)\r\n            //把这个登录方法封装成api进行调用\r\n            // 发送请求\r\n            // this.service.post('/login', this.form)\r\n            // .then((res) => {\r\n            //   console.log(res)\r\n            //   //判断状态码\r\n            //   if(res.data.status === 200) {\r\n            //     //调用方法存储用户名、Token\r\n            //    setToken('username',res.data.username)\r\n            //    setToken('token',res.data.token)\r\n            //     //提示成功\r\n            //     this.$message({ message: res.data.message, type:'success'})\r\n            //     //路由跳转\r\n            //     this.$router.push('./home')\r\n            //   }\r\n            // })\r\n            // .catch(err => {\r\n            //   console.error(err)\r\n            // })\r\n            // console.log(this.form)\r\n\r\n           //使用封装好的api模块调用login发请求\r\n           login(this.form).then(res => {\r\n            if(res.data.status === 200) {\r\n                //调用方法存储用户名、Token\r\n               setToken('username',res.data.username)\r\n               setToken('token',res.data.token)\r\n                //提示成功\r\n                this.$message({ message: res.data.message, type:'success'})\r\n                //路由跳转\r\n                this.$router.push('./home')\r\n              }\r\n           })\r\n\r\n          }else{\r\n            console.error(this.form)\r\n          }\r\n        } )\r\n      }\r\n    }\r\n\r\n};\r\n</script>\r\n<style lang=\"scss\">\r\n.login {\r\n      width: 100%;\r\n      height: 100%;\r\n      position: absolute;\r\n      background-image: linear-gradient(to right, rgb(248, 121, 242) ,skyblue ,pink);\r\n     .box-card{\r\n        width: 450px;\r\n        margin: 200px auto;\r\n        \r\n        .span{\r\n            font-size: 22px;\r\n            color: rgba(13, 92, 251, 0.741);\r\n            margin: 5px;\r\n        }\r\n        .el-button {\r\n            width: 100%;\r\n        }\r\n      }\r\n    }\r\n</style>","import mod from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./Login3.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./Login3.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Login3.vue?vue&type=template&id=48bb2f76&\"\nimport script from \"./Login3.vue?vue&type=script&lang=js&\"\nexport * from \"./Login3.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Login3.vue?vue&type=style&index=0&id=48bb2f76&prod&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","//接口请求的封装\r\n//导入封装好的axios\r\nimport service from '../service.js'\r\n\r\n//导入qs处理数据\r\nimport qs from 'qs'\r\n//登录接口封装\r\nexport function login (data) {\r\n    return service({\r\n        // 请求方法\r\n        method: 'post',\r\n        url: '/login',\r\n        data: data\r\n    })\r\n}\r\n\r\n//学生列表查询接口封装\r\nexport function students (params) {\r\n    return service({\r\n        method: 'get',\r\n        url: '/students',\r\n        params: params\r\n    })\r\n}\r\n\r\n\r\n//学生列表删除接口封装\r\nexport function studentDel (id) {\r\n    return service({\r\n        method: 'delete',\r\n        url: `/students/${id}`,\r\n       \r\n        \r\n    })\r\n}\r\n\r\n//信息列表新增接口封装\r\nexport function info (data) {\r\n   data = qs.stringify(data) \r\n    return service({\r\n        // 请求方法\r\n        method: 'post',\r\n        url: '/info',\r\n        data: data,\r\n    })\r\n}\r\n\r\n//信息列表修改接口的封装\r\nexport function upInfo (data) {\r\n    data = qs.stringify(data) \r\n     return service({\r\n         // 请求方法\r\n         method: 'put',\r\n         url: '/info',\r\n         data: data,\r\n     })\r\n }\r\n\r\n\r\n//信息列表查询接口封装\r\nexport function getInfo () {\r\n    \r\n     return service({\r\n         // 请求方法\r\n         method: 'get',\r\n         url: '/info',\r\n         \r\n     })\r\n }\r\n\r\n\r\n\r\n//信息列表新增和修改接口封装\r\nexport function infos (type, data) {\r\n   data = qs.stringify(data) \r\n   let obj = { method: type, url: '/info', data}\r\n    return service({obj})\r\n}\r\n\r\n\r\n\r\n\r\n\r\n //信息列表删除接口封装\r\nexport function deleteInfo (id) {\r\n    \r\n    return service({\r\n        // 请求方法\r\n        method: 'delete',\r\n        url: `/info/${id}`,\r\n        \r\n    })\r\n}\r\n \r\n\r\n\r\n\r\n//数据概览接口方法的封装\r\nexport function DataView () {\r\n    return service ({\r\n        method: 'get',\r\n        url: '/dataview'\r\n    })\r\n}\r\n"],"names":["render","_vm","this","_c","_self","staticClass","attrs","slot","_v","ref","form","rules","model","value","username","callback","$$v","$set","expression","password","on","$event","login","staticRenderFns","NameRule","rule","reg","Error","test","PassRule","pass","name","data","validator","trigger","methods","console","setToken","message","type","component","service","method","url","students","params","studentDel","id","getInfo","deleteInfo","DataView"],"sourceRoot":""}